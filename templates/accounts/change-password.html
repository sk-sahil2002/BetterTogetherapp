{% extends 'base.html' %}
{% load static %}

{% block title %}Change Password{% endblock %}

{% block content %}
<div class="jumbotron md index-header jumbotron_set jumbotron-cover">
  <div class="container wrap-jumbotron text-center">
    <h1 class="title-site">Change Password</h1>
    <p class="subtitle-site"><strong>Update your account password</strong></p>
  </div>
</div>

<div class="container margin-bottom-40">
  <div class="row">

    <!-- Main Content -->
    <div class="col-md-8 margin-bottom-20">
      <div class="password-card">
        <h3 class="text-center">Secure Your Account</h3>
        <p class="text-center text-muted">Enter your current and new password</p>
        <hr>

        <form method="post" novalidate>
          {% csrf_token %}

          {% if messages %}
          <div class="messages">
            {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">
              {{ message }}
            </div>
            {% endfor %}
          </div>
          {% endif %}

          {% if form.errors %}
          <div class="alert alert-danger">
            Please correct the errors below.
          </div>
          {% endif %}

          <!-- Current Password -->
          <div class="form-group {% if form.old_password.errors %}has-error{% endif %}">
            <label>Current Password</label>
            {{ form.old_password }}
            {% for error in form.old_password.errors %}
              <span class="help-block">{{ error }}</span>
            {% endfor %}
          </div>

          <!-- New Password -->
          <div class="form-group {% if form.new_password1.errors %}has-error{% endif %}">
            <label>New Password</label>
            {{ form.new_password1 }}
            {% for error in form.new_password1.errors %}
              <span class="help-block">{{ error }}</span>
            {% endfor %}
            {% if form.new_password1.help_text %}
              <p class="help-block small text-muted">{{ form.new_password1.help_text|safe }}</p>
            {% endif %}
          </div>

          <!-- Confirm Password -->
          <div class="form-group {% if form.new_password2.errors %}has-error{% endif %}">
            <label>Confirm New Password</label>
            {{ form.new_password2 }}
            {% for error in form.new_password2.errors %}
              <span class="help-block">{{ error }}</span>
            {% endfor %}
          </div>

          <button type="submit" class="btn btn-lg btn-success btn-block">
            Change Password
          </button>
        </form>
      </div>
    </div>

    <!-- Sidebar -->
    <div class="col-md-4">
      {% include 'includes/navbar-edit.html' %}
    </div>
  </div>
</div>
{% endblock %}

{% block css %}
<style>
  .password-card {
    background: #fff;
    border-radius: 8px;
    padding: 30px 25px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  }
  .password-card h3 {
    margin-bottom: 5px;
    font-weight: 600;
  }
  .password-card p.text-muted {
    margin-bottom: 20px;
    font-size: 14px;
  }
  .form-group label {
    font-weight: 600;
    margin-bottom: 6px;
    display: block;
  }
  .form-group input {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    height: 42px;
    box-shadow: none;
  }
  .form-group input:focus {
    border-color: #5cb85c;
    outline: none;
  }
  .help-block {
    font-size: 12px;
    margin-top: 4px;
  }
  .has-error .help-block,
  .has-error label {
    color: #a94442;
  }
  .has-error input {
    border-color: #a94442;
  }
  .btn-success {
    border-radius: 30px;
    font-weight: 600;
  }
</style>
{% endblock %}